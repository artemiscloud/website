<!doctype html><html lang=en-us><head><meta charset=utf-8><title>Scaling Up and Down Brokers with ArtemisCloud Operator</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=5"><meta name=description content="How to use operator to scale up and down broker pods"><meta name=author content="Themefisher"><meta name=generator content="Hugo 0.80.0"><link rel=stylesheet href=https://artemiscloud.github.io/website/plugins/bootstrap/bootstrap.min.css><link rel=stylesheet href=https://artemiscloud.github.io/website/plugins/themify-icons/themify-icons.css><link rel=stylesheet href=https://artemiscloud.github.io/website/plugins/slick/slick.css><link href=https://artemiscloud.github.io/website/scss/style.min.css rel=stylesheet media=screen><link rel="shortcut icon" href=https://artemiscloud.github.io/website/favicon.png type=image/x-icon><link rel=icon href=https://artemiscloud.github.io/website/favicon.png type=image/x-icon><meta property="og:title" content="Scaling Up and Down Brokers with ArtemisCloud Operator"><meta property="og:description" content="How to use operator to scale up and down broker pods"><meta property="og:type" content="article"><meta property="og:url" content="https://artemiscloud.github.io/website/blog/scaleup_and_scaledown/"></head><body><header class=navigation><div class=container><nav class="navbar navbar-expand-lg navbar-light bg-transparent"><a class=navbar-brand href=https://artemiscloud.github.io/website/><img width=250px class=img-fluid src=https://artemiscloud.github.io/website/images/logo.png alt="Artemis Cloud"></a>
<button class="navbar-toggler border-0" type=button data-toggle=collapse data-target=#navigation>
<i class="ti-menu h3"></i></button><div class="collapse navbar-collapse text-center" id=navigation><ul class="navbar-nav mx-auto"><li class=nav-item><a class=nav-link href=https://artemiscloud.github.io/website/blog>Blog</a></li><li class=nav-item><a class=nav-link href=https://artemiscloud.github.io/website/docs>Documentation</a></li><li class=nav-item><a class=nav-link href=https://artemiscloud.github.io/website/releases>Releases</a></li><li class=nav-item><a class=nav-link href=https://artemiscloud.github.io/website/community>Community</a></li></ul></div></nav></div></header><section class=section><div class=container><div class=row><div class="col-lg-8 mx-auto"><h2 class=mb-4>Scaling Up and Down Brokers with ArtemisCloud Operator</h2><div class=content><p>With ArtemisCloud operator one can easily manage the broker clusters.
Either scaling up number of nodes(pods) when workload is high, or scaling down when some is not needed &ndash; without messages being lost or stuck.</p><h3 id=prerequisite>Prerequisite</h3><p>Before you start you need have access to a running Kubernetes cluster environment. A <a href=https://minikube.sigs.k8s.io/docs/start/ target=_blank>Minikube</a> running on your laptop will just do fine. The ArtemisCloud operator also runs in a Openshift cluster environment like <a href=https://developers.redhat.com/products/codeready-containers/overview target=_blank>CodeReady Container</a>. In this blog we assume you have Kubernetes cluster environment. (If you use CodeReady the client tool is <strong>oc</strong> in place of <strong>kubectl</strong>)</p><h3 id=step-1---deploy-artemiscloud-operator>Step 1 - Deploy ArtemisCloud Operator</h3><p>In this article we are using the <a href=https://github.com/artemiscloud/activemq-artemis-operator target=_blank>artemiscloud operator repo</a>. In case you haven&rsquo;t done so, clone it to your local disk:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ git clone https://github.com/artemiscloud/activemq-artemis-operator.git
$ cd activemq-artemis-operator
</code></pre></div><p>If you are not sure how to deploy the operator take a look at <a href=/website/blog/using_operator/>this blog</a>.</p><p>After deployment is done, check the operator is up and running. For example run the following command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl get pod
NAME                                         READY   STATUS    RESTARTS   AGE
activemq-artemis-operator-58bb658f4c-h2jrk   1/1     Running   <span style=color:#ae81ff>0</span>          2m5s
</code></pre></div><h3 id=step-2---deploy-activemq-artemis-broker>Step 2 - Deploy ActiveMQ Artemis broker</h3><p>In this step we&rsquo;ll setup a one-node broker in kubernetes. First we need create a broker custom resource file.</p><p>Use your favorite text editor to create a file called <strong>artemis-clustered.yaml</strong> under your repo root directory with the following content:</p><p><a name=broker_clustered_yaml></a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>broker.amq.io/v2alpha4</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ActiveMQArtemis</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>ex-aao</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>deploymentPlan</span>:
        <span style=color:#f92672>size</span>: <span style=color:#ae81ff>1</span>
        <span style=color:#f92672>image</span>: <span style=color:#ae81ff>quay.io/artemiscloud/activemq-artemis-broker-kubernetes:0.2.1</span>
        <span style=color:#f92672>persistenceEnabled</span>: <span style=color:#66d9ef>true</span>
        <span style=color:#f92672>messageMigration</span>: <span style=color:#66d9ef>true</span>
</code></pre></div><p>Save it and deploy it using the following command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl create -f artemis-clustered.yaml
</code></pre></div><p>The custom resource file tells the operator to deploy one broker pod from the image <strong>quay.io/artemiscloud/activemq-artemis-broker-kubernetes:0.2.1</strong>,
configured with <strong>persistenceEnabled: true</strong> and <strong>messageMigration: true</strong>.</p><p><strong>persistenceEnabled: true</strong> means the broker persists messages to persistent storage.</p><p><strong>messageMigration: true</strong> means if a broker pod is shut down, its messages will be migrated to another live broker pod so that those messages will be processed.</p><p>In a while the broker pod should be up and running:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl get pod
NAME                                         READY   STATUS    RESTARTS   AGE
activemq-artemis-operator-58bb658f4c-h2jrk   1/1     Running   <span style=color:#ae81ff>0</span>          5m38s
ex-aao-ss-0                                  1/1     Running   <span style=color:#ae81ff>0</span>          2m27s
</code></pre></div><h3 id=step-3---scaling-up>Step 3 - Scaling up</h3><p>To inform the operator that we want to scale from one to two broker pods modify artemis-clustered.yaml file to set the <strong>size</strong> to 2</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>broker.amq.io/v2alpha4</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ActiveMQArtemis</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>ex-aao</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>deploymentPlan</span>:
        <span style=color:#f92672>size</span>: <span style=color:#ae81ff>2</span>
        <span style=color:#f92672>image</span>: <span style=color:#ae81ff>quay.io/artemiscloud/activemq-artemis-broker-kubernetes:0.2.1</span>
        <span style=color:#f92672>persistenceEnabled</span>: <span style=color:#66d9ef>true</span>
        <span style=color:#f92672>messageMigration</span>: <span style=color:#66d9ef>true</span>
</code></pre></div><p>and apply it:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    $ kubectl apply -f artemis-clustered.yaml
</code></pre></div><p>Verify that 2 pods are spawned up in a while:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl get pod
NAME                                         READY   STATUS    RESTARTS   AGE
activemq-artemis-operator-58bb658f4c-h2jrk   1/1     Running   <span style=color:#ae81ff>0</span>          7m15s
ex-aao-ss-0                                  1/1     Running   <span style=color:#ae81ff>0</span>          4m4s
ex-aao-ss-1                                  1/1     Running   <span style=color:#ae81ff>0</span>          38s
</code></pre></div><h3 id=step-4---send-messages-to-both-brokers>Step 4 - Send messages to both brokers</h3><p>Run the following commands to send 100 messages to each broker:</p><p>broker0 at pod ex-aao-ss-0</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl exec ex-aao-ss-0 -- /bin/bash /home/jboss/amq-broker/bin/artemis producer --user admin --password admin --url tcp://ex-aao-ss-0:61616 --message-count <span style=color:#ae81ff>100</span>
OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, <span style=color:#66d9ef>then</span> you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads<span style=color:#f92672>=</span>N
Connection brokerURL <span style=color:#f92672>=</span> tcp://ex-aao-ss-0:61616
Producer ActiveMQQueue<span style=color:#f92672>[</span>TEST<span style=color:#f92672>]</span>, thread<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> Started to calculate elapsed time ...

Producer ActiveMQQueue<span style=color:#f92672>[</span>TEST<span style=color:#f92672>]</span>, thread<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> Produced: <span style=color:#ae81ff>100</span> messages
Producer ActiveMQQueue<span style=color:#f92672>[</span>TEST<span style=color:#f92672>]</span>, thread<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> Elapsed time in second : <span style=color:#ae81ff>0</span> s
Producer ActiveMQQueue<span style=color:#f92672>[</span>TEST<span style=color:#f92672>]</span>, thread<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> Elapsed time in milli second : <span style=color:#ae81ff>467</span> milli seconds
</code></pre></div><p>broker1 at pod ex-aao-ss-1</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl exec ex-aao-ss-1 -- /bin/bash /home/jboss/amq-broker/bin/artemis producer --user admin --password admin --url tcp://ex-aao-ss-1:61616 --message-count <span style=color:#ae81ff>100</span>
OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, <span style=color:#66d9ef>then</span> you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads<span style=color:#f92672>=</span>N
Connection brokerURL <span style=color:#f92672>=</span> tcp://ex-aao-ss-1:61616
Producer ActiveMQQueue<span style=color:#f92672>[</span>TEST<span style=color:#f92672>]</span>, thread<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> Started to calculate elapsed time ...

Producer ActiveMQQueue<span style=color:#f92672>[</span>TEST<span style=color:#f92672>]</span>, thread<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> Produced: <span style=color:#ae81ff>100</span> messages
Producer ActiveMQQueue<span style=color:#f92672>[</span>TEST<span style=color:#f92672>]</span>, thread<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> Elapsed time in second : <span style=color:#ae81ff>0</span> s
Producer ActiveMQQueue<span style=color:#f92672>[</span>TEST<span style=color:#f92672>]</span>, thread<span style=color:#f92672>=</span><span style=color:#ae81ff>0</span> Elapsed time in milli second : <span style=color:#ae81ff>487</span> milli seconds
</code></pre></div><p>The messages are send to a queue <strong>TEST</strong> in each broker. The following commands can show the queue&rsquo;s message count on each broker:</p><p>broker0 at pod ex-aao-ss-0</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl exec ex-aao-ss-0 -- /bin/bash /home/jboss/amq-broker/bin/artemis queue stat --user admin --password admin --url tcp://ex-aao-ss-0:61616
OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, <span style=color:#66d9ef>then</span> you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads<span style=color:#f92672>=</span>N
Connection brokerURL <span style=color:#f92672>=</span> tcp://ex-aao-ss-0:61616
|NAME                     |ADDRESS                  |CONSUMER_COUNT |MESSAGE_COUNT |MESSAGES_ADDED |DELIVERING_COUNT |MESSAGES_ACKED |SCHEDULED_COUNT |ROUTING_TYPE |
|$.artemis.internal.sf.my-cluster.c99bf135-66eb-11eb-b025-0242ac110005|$.artemis.internal.sf.my-cluster.c99bf135-66eb-11eb-b025-0242ac110005|<span style=color:#ae81ff>1</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |MULTICAST    |
|DLQ                      |DLQ                      |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|ExpiryQueue              |ExpiryQueue              |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|TEST                     |TEST                     |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>100</span>           |<span style=color:#ae81ff>100</span>            |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|activemq.management.1cfc170e-f1e6-4a12-81c3-59616bd2a71b|activemq.management.1cfc170e-f1e6-4a12-81c3-59616bd2a71b|<span style=color:#ae81ff>1</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |MULTICAST    |
|notif.ccef13df-66eb-11eb-b025-0242ac110005.ActiveMQServerImpl_serverUUID<span style=color:#f92672>=</span>c99bf135-66eb-11eb-b025-0242ac110005|activemq.notifications   |<span style=color:#ae81ff>1</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>10</span>             |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>10</span>             |<span style=color:#ae81ff>0</span>               |MULTICAST    |
</code></pre></div><p>broker1 at pod ex-aao-ss-1</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl exec ex-aao-ss-1 -- /bin/bash /home/jboss/amq-broker/bin/artemis queue stat --user admin --password admin --url tcp://ex-aao-ss-1:61616
OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, <span style=color:#66d9ef>then</span> you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads<span style=color:#f92672>=</span>N
Connection brokerURL <span style=color:#f92672>=</span> tcp://ex-aao-ss-1:61616
|NAME                     |ADDRESS                  |CONSUMER_COUNT |MESSAGE_COUNT |MESSAGES_ADDED |DELIVERING_COUNT |MESSAGES_ACKED |SCHEDULED_COUNT |ROUTING_TYPE |
|$.artemis.internal.sf.my-cluster.901d2945-66eb-11eb-afcd-0242ac110004|$.artemis.internal.sf.my-cluster.901d2945-66eb-11eb-afcd-0242ac110004|<span style=color:#ae81ff>1</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |MULTICAST    |
|DLQ                      |DLQ                      |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|ExpiryQueue              |ExpiryQueue              |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|TEST                     |TEST                     |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>100</span>           |<span style=color:#ae81ff>100</span>            |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|activemq.management.67464827-2582-4f71-9bc5-db632618b8e2|activemq.management.67464827-2582-4f71-9bc5-db632618b8e2|<span style=color:#ae81ff>1</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |MULTICAST    |
|notif.ccd486df-66eb-11eb-afcd-0242ac110004.ActiveMQServerImpl_serverUUID<span style=color:#f92672>=</span>901d2945-66eb-11eb-afcd-0242ac110004|activemq.notifications   |<span style=color:#ae81ff>1</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>10</span>             |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>10</span>             |<span style=color:#ae81ff>0</span>               |MULTICAST    |
</code></pre></div><h3 id=step-5---scale-down-with-message-draining>Step 5 - Scale down with message draining</h3><p>The operator not only can scale up brokers in a cluster but also can scale them down. Now we have messages on both brokers. If we scale one broker down, will the messsages go offline with it and stuck in its persistence store?</p><p>The answer is no. As we set <strong>messageMigration: true</strong> in the <a href=#broker_clustered_yaml>broker cr</a>, the operator will automatically &ldquo;migrate&rdquo; the messages on a scaled down broker pod to one of the live broker pod, a process called &ldquo;message draining&rdquo;.</p><p>Internally when the operator detects that a broker pod is down, it starts up a &ldquo;drainer&rdquo; broker pod who has access to the down pod&rsquo;s persistence store. It loads the messages in the store and sends those messages to a target live broker pod. When this is done the &ldquo;drainer&rdquo; pod shuts down itself.</p><p>Now scale down the cluster from 2 pods to one. Edit the <a href=#broker_clustered_yaml>broker cr</a> file and change the size back to 1:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml>    <span style=color:#f92672>apiVersion</span>: <span style=color:#ae81ff>broker.amq.io/v2alpha4</span>
    <span style=color:#f92672>kind</span>: <span style=color:#ae81ff>ActiveMQArtemis</span>
    <span style=color:#f92672>metadata</span>:
      <span style=color:#f92672>name</span>: <span style=color:#ae81ff>ex-aao</span>
    <span style=color:#f92672>spec</span>:
      <span style=color:#f92672>deploymentPlan</span>:
        <span style=color:#f92672>size</span>: <span style=color:#ae81ff>1</span>
        <span style=color:#f92672>image</span>: <span style=color:#ae81ff>quay.io/artemiscloud/activemq-artemis-broker-kubernetes:0.2.1</span>
        <span style=color:#f92672>persistenceEnabled</span>: <span style=color:#66d9ef>true</span>
        <span style=color:#f92672>messageMigration</span>: <span style=color:#66d9ef>true</span>
</code></pre></div><p>Apply it:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl apply -f artemis-clustered.yaml
activemqartemis.broker.amq.io/ex-aao configured
</code></pre></div><p>In a moment the broker pods will go down to 1. To check, run</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl get pod
NAME                                         READY   STATUS    RESTARTS   AGE
activemq-artemis-operator-58bb658f4c-h2jrk   1/1     Running   <span style=color:#ae81ff>0</span>          14m
ex-aao-ss-0                                  1/1     Running   <span style=color:#ae81ff>0</span>          11m
</code></pre></div><p>Now check the messages in queue TEST at the pod again:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ kubectl exec ex-aao-ss-0 -- /bin/bash /home/jboss/amq-broker/bin/artemis queue stat --user admin --password admin --url tcp://ex-aao-ss-0:61616
OpenJDK 64-Bit Server VM warning: If the number of processors is expected to increase from one, <span style=color:#66d9ef>then</span> you should configure the number of parallel GC threads appropriately using -XX:ParallelGCThreads<span style=color:#f92672>=</span>N
Connection brokerURL <span style=color:#f92672>=</span> tcp://ex-aao-ss-0:61616
|NAME                     |ADDRESS                  |CONSUMER_COUNT |MESSAGE_COUNT |MESSAGES_ADDED |DELIVERING_COUNT |MESSAGES_ACKED |SCHEDULED_COUNT |ROUTING_TYPE |
|$.artemis.internal.sf.my-cluster.c99bf135-66eb-11eb-b025-0242ac110005|$.artemis.internal.sf.my-cluster.c99bf135-66eb-11eb-b025-0242ac110005|<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |MULTICAST    |
|DLQ                      |DLQ                      |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|ExpiryQueue              |ExpiryQueue              |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|TEST                     |TEST                     |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>200</span>           |<span style=color:#ae81ff>200</span>            |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |ANYCAST      |
|activemq.management.32d7d8ba-4197-4d5f-8e6c-9c6d05e8bd03|activemq.management.32d7d8ba-4197-4d5f-8e6c-9c6d05e8bd03|<span style=color:#ae81ff>1</span>              |<span style=color:#ae81ff>0</span>             |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>                |<span style=color:#ae81ff>0</span>              |<span style=color:#ae81ff>0</span>               |MULTICAST    |
</code></pre></div><p>It shows queue TEST&rsquo;s message count is <strong>200</strong> now!</p><h3 id=more-information>More information</h3><ul><li>Check out <a href=https://github.com/artemiscloud target=_blank>artemiscloud project repo</a></li><li>Reach the <a href=artemiscloudio.slack.com>dev team at slack</a> for questions/issues/help</li></ul></div></div></div></div></section><footer class="section pb-0"><div class=container><div class=row><div class="col-md-3 col-sm-6 mb-10"><ul class="list-inline social-icons"><li class=list-inline-item><a href=https://twitter.com/artemiscloudio><i class=ti-twitter-alt></i></a></li><li class=list-inline-item>twitter</li><li class=list-inline-item><a href=https://github.com/ArtemisCloud><i class=ti-github></i></a></li><li class=list-inline-item>github</li></ul></div></div></div></footer><script src=https://artemiscloud.github.io/website/plugins/jQuery/jquery.min.js></script><script src=https://artemiscloud.github.io/website/plugins/bootstrap/bootstrap.min.js></script><script src=https://artemiscloud.github.io/website/plugins/slick/slick.min.js></script><script src=https://artemiscloud.github.io/website/js/script.min.js></script></body></html>